<tr class="nested-fields">
  <td>
    <%= f.association :category, label: false, input_html: { class: 'select2' } %>
  </td>
  <td>
    <%= f.association :product, collection: [f.object&.product].compact, label: false, input_html: { class: 'select2' } %>
  </td>
  <td>
    <%= f.association :component, collection: [f.object&.component].compact, label: false, input_html: { class: 'select2' } %>
  </td>
  <td>
    <%= f.input :quantity, label: false %>
    <%= f.input :kind, label: false, as: :hidden, input_html: { value: controller_name == 'orders' ? 'in' : 'out' } %>
  </td>
  <td class='und text-right'>
    <%= f.object&.product&.unity %>
  </td>
  <td>
    <%= link_to_remove_association f do %>
      <div class="btn btn-danger btn-sm">
        <i class="fa fa-fw fa-trash-alt"></i>
      </div>
    <% end %>
  </td>
</tr>
